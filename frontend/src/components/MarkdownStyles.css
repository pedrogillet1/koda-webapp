/* ============================================
   KODA EXACT FORMAT - Matches Specification 100%
   Based on format specification document
   ============================================ */

/* CRITICAL RULE: NO spacing between bullet points
 * Bullet points should be TIGHT with no gaps
 * Only spacing between SECTIONS (8-12px)
 */

/* Container - Max width 640-720px */
.markdown-preview-container {
  font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color: #171717;
  max-width: 720px;
  padding: 0;
  background: transparent;
}

/* ============================================
   TYPOGRAPHY HIERARCHY (Exact Specification)
   ============================================ */

/* Headline / Short Answer (1-2 lines max) */
.markdown-h2 {
  font-size: 16px !important;
  font-weight: 600 !important;
  line-height: 24px !important;
  color: #111111 !important;
  margin: 0 0 12px 0 !important;
  padding: 0 !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

/* First h2 should have no top margin */
.markdown-preview-container > h2:first-child,
.markdown-preview-container > .markdown-h2:first-child {
  margin-top: 0 !important;
}

/* Micro-section labels (RESUMO RÁPIDO, DETALHES, PRÓXIMOS PASSOS) */
.markdown-h3 {
  font-size: 12px !important;
  font-weight: 600 !important;
  letter-spacing: 0.5px !important;
  text-transform: uppercase !important;
  color: #9CA3AF !important;
  margin: 8px 0 4px 0 !important;
  padding: 0 !important;
  line-height: 1.2 !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

/* Body text / bullets */
.markdown-paragraph {
  font-size: 14px !important;
  font-weight: 400 !important;
  line-height: 22px !important;
  color: #171717 !important;
  margin: 0 !important;
  padding: 0 !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

/* Paragraph spacing: 6-8px between paragraphs */
.markdown-paragraph + .markdown-paragraph {
  margin-top: 8px !important;
}

/* Meta text (paths, dates, "Ver todos") */
.markdown-inline-code {
  font-size: 12px !important;
  font-weight: 400 !important;
  color: #6B7280 !important;
  background-color: transparent !important;
  padding: 0 !important;
  border: none !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

/* Bold usage - ONLY for file names, key numbers, critical terms */
.markdown-preview-container strong,
.markdown-preview-container b {
  font-weight: 700 !important;
  color: #171717 !important;
}

/* Never bold whole sentences - handled by backend */

/* ============================================
   LISTS - CRITICAL: NO SPACING BETWEEN BULLETS
   ============================================ */

/* Bullet lists - NO spacing between items */
.markdown-ul {
  margin: 0 !important;
  padding-left: 16px !important;
  list-style-type: disc !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

/* CRITICAL: Zero margin between bullet points */
.markdown-ul li {
  margin: 0 !important;
  padding: 0 !important;
  line-height: 22px !important;
  color: #171717 !important;
  font-size: 14px !important;
}

/* Each bullet: max 2 lines */
.markdown-ul li {
  max-height: 44px; /* 2 lines * 22px line-height */
  overflow: visible;
}

/* Bullet style: filled dot */
.markdown-ul li::marker {
  color: #171717;
}

/* Ordered lists */
.markdown-ol {
  margin: 0 !important;
  padding-left: 16px !important;
  list-style-type: decimal !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

.markdown-ol li {
  margin: 0 !important;
  padding: 0 !important;
  line-height: 22px !important;
  color: #171717 !important;
  font-size: 14px !important;
}

/* Nested lists - NOT RECOMMENDED, but if needed */
.markdown-ul ul,
.markdown-ol ul {
  margin: 0 !important;
  padding-left: 16px !important;
}

/* ============================================
   SECTION SPACING (8-12px between sections)
   ============================================ */

/* Space between headline and micro label */
.markdown-h2 + .markdown-h3 {
  margin-top: 8px !important;
}

/* Space between micro label and content */
.markdown-h3 + .markdown-ul,
.markdown-h3 + .markdown-paragraph {
  margin-top: 4px !important;
}

/* Space between list and next section */
.markdown-ul + .markdown-h3,
.markdown-ul + .markdown-paragraph {
  margin-top: 12px !important;
}

/* Space between paragraph and next section */
.markdown-paragraph + .markdown-h3,
.markdown-paragraph + .markdown-ul {
  margin-top: 12px !important;
}

/* ============================================
   TABLES - Professional styling
   ============================================ */

.markdown-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  background: white;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
  margin: 20px 0 !important;
  border-radius: 8px;
  overflow: hidden;
}

.markdown-table thead {
  background: #000000 !important;
  color: white !important;
}

.markdown-table thead th {
  padding: 14px 16px !important;
  text-align: left !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  color: white !important;
  border: none !important;
}

.markdown-table tbody tr {
  border-bottom: 1px solid #e5e7eb !important;
}

.markdown-table tbody tr:nth-child(even) {
  background-color: #f9fafb !important;
}

.markdown-table tbody tr:hover {
  background-color: #f3f4f6 !important;
}

.markdown-table tbody td {
  padding: 12px 16px !important;
  color: #171717 !important;
  border: none !important;
  font-size: 14px !important;
}

/* ============================================
   LINKS
   ============================================ */

.markdown-link {
  color: #3b82f6 !important;
  text-decoration: none !important;
  border-bottom: 1px solid #93c5fd !important;
  transition: all 0.2s ease !important;
  font-weight: 500 !important;
}

.markdown-link:hover {
  color: #2563eb !important;
  border-bottom-color: #3b82f6 !important;
}

/* ============================================
   BLOCKQUOTES - Rarely used
   ============================================ */

.markdown-blockquote {
  border-left: 4px solid #3b82f6 !important;
  background-color: #eff6ff !important;
  padding: 16px 20px !important;
  margin: 12px 0 !important;
  border-radius: 0 8px 8px 0 !important;
  color: #1e40af !important;
  font-style: italic !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
}

.markdown-blockquote p {
  margin: 0 !important;
  color: #1e40af !important;
}

/* ============================================
   IMAGES - Rarely used
   ============================================ */

.markdown-image {
  max-width: 100% !important;
  height: auto !important;
  border-radius: 8px !important;
  margin: 16px 0 !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
}

/* ============================================
   HORIZONTAL RULE - Hidden
   ============================================ */

.markdown-hr {
  display: none !important;
}

/* ============================================
   CODE BLOCKS - For filenames in grey boxes
   ============================================ */

.markdown-code-block {
  display: inline !important;
  background-color: #f3f4f6 !important;
  color: #374151 !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
  font-family: 'Plus Jakarta Sans', sans-serif !important;
  font-size: 12px !important;
  border: 1px solid #e5e7eb !important;
  font-weight: 400 !important;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

@media (max-width: 768px) {
  .markdown-preview-container {
    font-size: 14px;
    max-width: 100%;
  }

  .markdown-h2 {
    font-size: 16px !important;
  }

  .markdown-h3 {
    font-size: 12px !important;
  }

  .markdown-table {
    font-size: 12px;
  }

  .markdown-table thead th,
  .markdown-table tbody td {
    padding: 10px 12px !important;
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  .markdown-preview-container {
    padding: 0;
    background: white;
  }

  .markdown-h2 {
    page-break-after: avoid;
  }

  .markdown-table {
    page-break-inside: avoid;
  }

  .markdown-link {
    color: #000 !important;
    text-decoration: underline !important;
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

.markdown-preview-container *:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Selection styling */
.markdown-preview-container ::selection {
  background: #dbeafe;
  color: #1e40af;
}

/* ============================================
   STREAMING CURSOR
   ============================================ */

.markdown-preview-container.streaming .cursor {
  display: inline-block;
  animation: blink 1s step-end infinite;
  margin-left: 2px;
  color: #6366F1;
  font-weight: 400;
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* ============================================
   SUMMARY OF KEY CHANGES FROM CURRENT KODA:
   ============================================
   
   1. H2 (Headline): 16px (was 1.1em ≈ 17.6px)
   2. H3 (Micro labels): 12px, ALL CAPS, #9CA3AF (was 1.05em)
   3. Body text: 14px (was 16px)
   4. Bullet spacing: 0px (was 6px)
   5. Section spacing: 8-12px (was inconsistent)
   6. Meta text: 12px, #6B7280 (was inline-code style)
   7. Bold: Only file names/numbers (was inconsistent)
   8. Max width: 720px (was 100%)
   9. Line height: 22px (was 1.7 = 27.2px)
   10. Paragraph spacing: 8px (was 0px)
   
   ============================================ */
